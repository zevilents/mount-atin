-- Floating open button (icon-only)
local openButton = Instance.new("ImageButton")
openButton.Size = UDim2.new(0, 40, 0, 40)
openButton.Position = frame.Position
openButton.Image = "rbxassetid://6034283386" -- contoh icon roket, bisa diganti
openButton.BackgroundColor3 = Color3.fromRGB(50, 150, 255)
openButton.Visible = false
openButton.Parent = screenGui

local openCorner = Instance.new("UICorner")
openCorner.CornerRadius = UDim.new(0, 8)
openCorner.Parent = openButton

-- Tooltip untuk openButton
local tooltip = Instance.new("TextLabel")
tooltip.Size = UDim2.new(0, 140, 0, 25)
tooltip.BackgroundTransparency = 0.5
tooltip.BackgroundColor3 = Color3.fromRGB(0,0,0)
tooltip.TextColor3 = Color3.new(1,1,1)
tooltip.Font = Enum.Font.Gotham
tooltip.TextSize = 14
tooltip.Text = "Open Teleport Menu"
tooltip.Visible = false
tooltip.Parent = screenGui

openButton.MouseEnter:Connect(function()
	tooltip.Position = UDim2.new(0, openButton.AbsolutePosition.X + 45, 0, openButton.AbsolutePosition.Y)
	tooltip.Visible = true
end)
openButton.MouseLeave:Connect(function()
	tooltip.Visible = false
end)

-- Drag support untuk openButton
local draggingOpen, dragInputOpen, dragStartOpen, startPosOpen

openButton.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
		draggingOpen = true
		dragStartOpen = input.Position
		startPosOpen = openButton.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				draggingOpen = false
			end
		end)
	end
end)

openButton.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
		dragInputOpen = input
	end
end)

UIS.InputChanged:Connect(function(input)
	if input == dragInputOpen and draggingOpen then
		local delta = input.Position - dragStartOpen
		openButton.Position = UDim2.new(
			startPosOpen.X.Scale, startPosOpen.X.Offset + delta.X,
			startPosOpen.Y.Scale, startPosOpen.Y.Offset + delta.Y
		)
		lastFramePos = openButton.Position -- simpan posisi terakhir untuk minimize
	end
end)
